{
  "address": "0xD04FCC255AaDF72EEef511454501b5ecE7FA0dba",
  "abi": [
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "dex",
              "type": "address"
            },
            {
              "internalType": "bytes",
              "name": "data",
              "type": "bytes"
            }
          ],
          "internalType": "struct ICodec.SwapDescription",
          "name": "_swap",
          "type": "tuple"
        }
      ],
      "name": "decodeCalldata",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "amountIn",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "tokenIn",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "tokenOut",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes",
          "name": "_data",
          "type": "bytes"
        },
        {
          "internalType": "uint256",
          "name": "_amountInOverride",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "encodeCalldataWithOverride",
      "outputs": [
        {
          "internalType": "bytes",
          "name": "swapCalldata",
          "type": "bytes"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    }
  ],
  "transactionHash": "0xa5e391a80a6e99c3bebfc0f9d5a46dae3b261c4dbd43c9699bf3127fd33633c0",
  "receipt": {
    "to": null,
    "from": "0x8b5F94a2c2e23eE8cC0Ff56872aF973243eF7628",
    "contractAddress": "0xD04FCC255AaDF72EEef511454501b5ecE7FA0dba",
    "transactionIndex": 117,
    "gasUsed": "459547",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0xae4040631e7f78d5bbfd8db6d7e25d3a3a025a6d71a3e3ca0fd702c3bd617e7e",
    "transactionHash": "0xa5e391a80a6e99c3bebfc0f9d5a46dae3b261c4dbd43c9699bf3127fd33633c0",
    "logs": [],
    "blockNumber": 15716286,
    "cumulativeGasUsed": "13028951",
    "status": 1,
    "byzantium": true
  },
  "args": [],
  "numDeployments": 1,
  "solcInputHash": "d83e2d523869ea8322f78889151bc01d",
  "metadata": "{\"compiler\":{\"version\":\"0.8.15+commit.e14f2714\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"dex\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"internalType\":\"struct ICodec.SwapDescription\",\"name\":\"_swap\",\"type\":\"tuple\"}],\"name\":\"decodeCalldata\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amountIn\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"tokenIn\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"tokenOut\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"_data\",\"type\":\"bytes\"},{\"internalType\":\"uint256\",\"name\":\"_amountInOverride\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"encodeCalldataWithOverride\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"swapCalldata\",\"type\":\"bytes\"}],\"stateMutability\":\"pure\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/codecs/CurvePoolCodec.sol\":\"CurvePoolCodec\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"details\":{\"constantOptimizer\":true,\"cse\":true,\"deduplicate\":true,\"inliner\":true,\"jumpdestRemover\":true,\"orderLiterals\":true,\"peephole\":true,\"yul\":false},\"runs\":800},\"remappings\":[]},\"sources\":{\"contracts/codecs/CurvePoolCodec.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0-only\\n\\npragma solidity >=0.8.15;\\n\\nimport \\\"../interfaces/ICodec.sol\\\";\\nimport \\\"../interfaces/ICurvePool.sol\\\";\\n\\ncontract CurvePoolCodec is ICodec {\\n    struct SwapCalldata {\\n        int128 i;\\n        int128 j;\\n        uint256 dx;\\n        uint256 min_dy;\\n    }\\n\\n    function decodeCalldata(ICodec.SwapDescription calldata _swap)\\n        external\\n        view\\n        returns (\\n            uint256 amountIn,\\n            address tokenIn,\\n            address tokenOut\\n        )\\n    {\\n        SwapCalldata memory data = abi.decode((_swap.data[4:]), (SwapCalldata));\\n        amountIn = data.dx;\\n        tokenIn = ICurvePool(_swap.dex).coins(uint256(int256(data.i)));\\n        tokenOut = ICurvePool(_swap.dex).coins(uint256(int256(data.j)));\\n    }\\n\\n    function encodeCalldataWithOverride(\\n        bytes calldata _data,\\n        uint256 _amountInOverride,\\n        address // receiverOverride\\n    ) external pure returns (bytes memory swapCalldata) {\\n        bytes4 selector = bytes4(_data);\\n        SwapCalldata memory data = abi.decode((_data[4:]), (SwapCalldata));\\n        data.dx = _amountInOverride;\\n        return abi.encodeWithSelector(selector, data);\\n    }\\n}\\n\",\"keccak256\":\"0x0d5627d0080d042b549c959f89dad0c0b1763c9586306e98a0b79ed63d6fbfe2\",\"license\":\"GPL-3.0-only\"},\"contracts/interfaces/ICodec.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0-only\\n\\npragma solidity >=0.8.0;\\n\\ninterface ICodec {\\n    struct SwapDescription {\\n        address dex; // the DEX to use for the swap, zero address implies no swap needed\\n        bytes data; // the data to call the dex with\\n    }\\n\\n    function decodeCalldata(SwapDescription calldata swap)\\n        external\\n        view\\n        returns (\\n            uint256 amountIn,\\n            address tokenIn,\\n            address tokenOut\\n        );\\n\\n    function encodeCalldataWithOverride(\\n        bytes calldata data,\\n        uint256 amountInOverride,\\n        address receiverOverride\\n    ) external pure returns (bytes memory swapCalldata);\\n}\\n\",\"keccak256\":\"0x3c063f0ffd87df3df38998c78273bc00ac835331905be997c7e3c6aa3bdbdcc4\",\"license\":\"GPL-3.0-only\"},\"contracts/interfaces/ICurvePool.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0-only\\n\\npragma solidity >=0.8.15;\\n\\ninterface ICurvePool {\\n    function coins(uint256 i) external view returns (address);\\n\\n    function underlying_coins(uint256 i) external view returns (address);\\n\\n    // plain & meta pool\\n    function get_dy(\\n        int128 i,\\n        int128 j,\\n        uint256 dx\\n    ) external view returns (uint256);\\n\\n    // meta pool\\n    function get_dy_underlying(\\n        int128 i,\\n        int128 j,\\n        uint256 dx\\n    ) external view returns (uint256);\\n\\n    // plain & meta pool\\n    function exchange(\\n        int128 i,\\n        int128 j,\\n        uint256 dx,\\n        uint256 min_dy\\n    ) external;\\n\\n    // meta pool\\n    function exchange_underlying(\\n        int128 i,\\n        int128 j,\\n        uint256 dx,\\n        uint256 min_dy,\\n        address _receiver\\n    ) external returns (uint256);\\n\\n    // special function signature that is only used by the sUSD pool on Ethereum 0xA5407eAE9Ba41422680e2e00537571bcC53efBfD\\n    function exchange_underlying(\\n        int128 i,\\n        int128 j,\\n        uint256 dx,\\n        uint256 min_dy\\n    ) external;\\n}\\n\",\"keccak256\":\"0x2be669549b0da2b01608c060c7ae85d3eb4f2deb42e0b12d99c7ee8a7f8fa6a3\",\"license\":\"GPL-3.0-only\"}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b5061075a806100206000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c8063358f0e1c1461003b5780634c6da26914610066575b600080fd5b61004e610049366004610298565b610086565b60405161005d93929190610304565b60405180910390f35b6100796100743660046103ad565b6101e1565b60405161005d919061047e565b60008080806100986020860186610496565b6100a69160049082906104f5565b8101906100b3919061060b565b6040810151945090506100c9602086018661062c565b73ffffffffffffffffffffffffffffffffffffffff1663c66106578260000151600f0b6040518263ffffffff1660e01b8152600401610108919061064d565b602060405180830381865afa158015610125573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101499190610666565b9250610158602086018661062c565b73ffffffffffffffffffffffffffffffffffffffff1663c66106578260200151600f0b6040518263ffffffff1660e01b8152600401610197919061064d565b602060405180830381865afa1580156101b4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d89190610666565b93959294505050565b606060006101ef8587610687565b90506000610200866004818a6104f5565b81019061020d919061060b565b6040808201879052519091508290610229908390602401610716565b60408051601f198184030181529190526020810180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff166001600160e01b031990931692909217909152925050505b949350505050565b60006040828403121561029257610292600080fd5b50919050565b6000602082840312156102ad576102ad600080fd5b813567ffffffffffffffff8111156102c7576102c7600080fd5b6102758482850161027d565b805b82525050565b600073ffffffffffffffffffffffffffffffffffffffff82165b92915050565b6102d5816102db565b6060810161031282866102d3565b61031f60208301856102fb565b61027560408301846102fb565b60008083601f84011261034157610341600080fd5b50813567ffffffffffffffff81111561035c5761035c600080fd5b60208301915083600182028301111561037757610377600080fd5b9250929050565b805b811461038b57600080fd5b50565b80356102f58161037e565b610380816102db565b80356102f581610399565b600080600080606085870312156103c6576103c6600080fd5b843567ffffffffffffffff8111156103e0576103e0600080fd5b6103ec8782880161032c565b945094505060206103ff8782880161038e565b9250506040610410878288016103a2565b91505092959194509250565b60005b8381101561043757818101518382015260200161041f565b83811115610446576000848401525b50505050565b6000610456825190565b80845260208401935061046d81856020860161041c565b601f01601f19169290920192915050565b6020808252810161048f818461044c565b9392505050565b6000808335601e19368590030181126104b1576104b1600080fd5b80840192508235915067ffffffffffffffff8211156104d2576104d2600080fd5b6020830192506001820236038313156104ed576104ed600080fd5b509250929050565b6000808585111561050857610508600080fd5b8386111561051857610518600080fd5b5050820193919092039150565b634e487b7160e01b600052604160045260246000fd5b601f19601f830116810181811067ffffffffffffffff8211171561056157610561610525565b6040525050565b600061057360405190565b905061057f828261053b565b919050565b61038081600f0b90565b80356102f581610584565b6000608082840312156105ae576105ae600080fd5b6105b86080610568565b905060006105c6848461058e565b82525060206105d78484830161058e565b60208301525060406105eb8482850161038e565b60408301525060606105ff8482850161038e565b60608301525092915050565b60006080828403121561062057610620600080fd5b60006102758484610599565b60006020828403121561064157610641600080fd5b600061027584846103a2565b602081016102f582846102d3565b80516102f581610399565b60006020828403121561067b5761067b600080fd5b6000610275848461065b565b80356001600160e01b031916828260048210156106ba576106b56001600160e01b0319836004036008021b90565b831692505b505092915050565b6102d581600f0b90565b805160808301906106dd84826106c2565b5060208201516106f060208501826106c2565b50604082015161070360408501826102d3565b50606082015161044660608501826102d3565b608081016102f582846106cc56fea264697066735822122094bdec43a121cc2d9c7c4dd1c4cc9887aecef768415349a37cd178dead65045164736f6c634300080f0033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100365760003560e01c8063358f0e1c1461003b5780634c6da26914610066575b600080fd5b61004e610049366004610298565b610086565b60405161005d93929190610304565b60405180910390f35b6100796100743660046103ad565b6101e1565b60405161005d919061047e565b60008080806100986020860186610496565b6100a69160049082906104f5565b8101906100b3919061060b565b6040810151945090506100c9602086018661062c565b73ffffffffffffffffffffffffffffffffffffffff1663c66106578260000151600f0b6040518263ffffffff1660e01b8152600401610108919061064d565b602060405180830381865afa158015610125573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101499190610666565b9250610158602086018661062c565b73ffffffffffffffffffffffffffffffffffffffff1663c66106578260200151600f0b6040518263ffffffff1660e01b8152600401610197919061064d565b602060405180830381865afa1580156101b4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d89190610666565b93959294505050565b606060006101ef8587610687565b90506000610200866004818a6104f5565b81019061020d919061060b565b6040808201879052519091508290610229908390602401610716565b60408051601f198184030181529190526020810180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff166001600160e01b031990931692909217909152925050505b949350505050565b60006040828403121561029257610292600080fd5b50919050565b6000602082840312156102ad576102ad600080fd5b813567ffffffffffffffff8111156102c7576102c7600080fd5b6102758482850161027d565b805b82525050565b600073ffffffffffffffffffffffffffffffffffffffff82165b92915050565b6102d5816102db565b6060810161031282866102d3565b61031f60208301856102fb565b61027560408301846102fb565b60008083601f84011261034157610341600080fd5b50813567ffffffffffffffff81111561035c5761035c600080fd5b60208301915083600182028301111561037757610377600080fd5b9250929050565b805b811461038b57600080fd5b50565b80356102f58161037e565b610380816102db565b80356102f581610399565b600080600080606085870312156103c6576103c6600080fd5b843567ffffffffffffffff8111156103e0576103e0600080fd5b6103ec8782880161032c565b945094505060206103ff8782880161038e565b9250506040610410878288016103a2565b91505092959194509250565b60005b8381101561043757818101518382015260200161041f565b83811115610446576000848401525b50505050565b6000610456825190565b80845260208401935061046d81856020860161041c565b601f01601f19169290920192915050565b6020808252810161048f818461044c565b9392505050565b6000808335601e19368590030181126104b1576104b1600080fd5b80840192508235915067ffffffffffffffff8211156104d2576104d2600080fd5b6020830192506001820236038313156104ed576104ed600080fd5b509250929050565b6000808585111561050857610508600080fd5b8386111561051857610518600080fd5b5050820193919092039150565b634e487b7160e01b600052604160045260246000fd5b601f19601f830116810181811067ffffffffffffffff8211171561056157610561610525565b6040525050565b600061057360405190565b905061057f828261053b565b919050565b61038081600f0b90565b80356102f581610584565b6000608082840312156105ae576105ae600080fd5b6105b86080610568565b905060006105c6848461058e565b82525060206105d78484830161058e565b60208301525060406105eb8482850161038e565b60408301525060606105ff8482850161038e565b60608301525092915050565b60006080828403121561062057610620600080fd5b60006102758484610599565b60006020828403121561064157610641600080fd5b600061027584846103a2565b602081016102f582846102d3565b80516102f581610399565b60006020828403121561067b5761067b600080fd5b6000610275848461065b565b80356001600160e01b031916828260048210156106ba576106b56001600160e01b0319836004036008021b90565b831692505b505092915050565b6102d581600f0b90565b805160808301906106dd84826106c2565b5060208201516106f060208501826106c2565b50604082015161070360408501826102d3565b50606082015161044660608501826102d3565b608081016102f582846106cc56fea264697066735822122094bdec43a121cc2d9c7c4dd1c4cc9887aecef768415349a37cd178dead65045164736f6c634300080f0033",
  "devdoc": {
    "kind": "dev",
    "methods": {},
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "version": 1
  },
  "storageLayout": {
    "storage": [],
    "types": null
  }
}